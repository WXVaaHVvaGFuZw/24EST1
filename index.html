<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>密码保护链接</title>
    <script>
        let attempts = 0;
        const maxAttempts = 3;
        const cooldownTime = 10; // 冷却时间（秒）
        let isCooldown = false;
        let cooldownTimer;

        function checkPassword(event) {
            // 阻止默认行为，以便我们可以控制跳转
            event.preventDefault();

            if (isCooldown) {
                alert(`您在冷却时间内。请等待 ${Math.ceil(cooldownTimer)} 秒后再试。`);
                return;
            }

            const password = prompt('请输入密码:');
            if (password === null) {
                // 用户点击取消，不做任何处理
                return;
            }

            if (password === 'yourPassword') {
                // 密码正确，允许跳转
                window.location.href = event.target.href;
            } else {
                attempts++;
                if (attempts >= maxAttempts) {
                    isCooldown = true;
                    alert('错误次数过多，您已进入冷却状态。');
                    cooldownTimer = cooldownTime;
                    const cooldownInterval = setInterval(() => {
                        cooldownTimer--;
                        if (cooldownTimer <= 0) {
                            isCooldown = false;
                            attempts = 0;
                            clearInterval(cooldownInterval);
                        }
                    }, 1000);
                } else {
                    alert(`密码错误。您还有 ${maxAttempts - attempts} 次尝试机会。`);
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', checkPassword);
            });
        });
    </script>
</head>
<body>
    <a href="1.html">前往 1.html</a>
    <a href="2.html">前往 2.html</a>
    <!-- 添加更多链接 -->
</body>
</html>
